<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='utf-8' />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link href='lib/main.css' rel='stylesheet' />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
        crossorigin="anonymous"></script>
    <script src='lib/main.js'></script>
    <script src="lib/locales/ru.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        // let req = fetch("https://gumrf.ru/codebase/data/events.php?timeshift=-180").then((response) => {
        //     return response.json();
        // })
        //     .then((data) => {
        //         console.log(data);
        //     });
    </script>
    <script>

        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                dayHeaderFormat: {
                    weekday: 'long'
                },
                themeSystem: 'bootstrap5',
                headerToolbar: {
                    left: 'prev',
                    center: 'title',
                    right: 'next',
                    weekday: "long"
                },
                initialView: 'dayGridMonth',
                locale: 'ru',
                // initialView: 'timeGridWeek',
                eventShortHeight: 10,
                contentHeight: "auto",
                events: [
                    { // this object will be "parsed" into an Event Object
                        title: 'Lorem Ipsum - это текст-"рыба", часто используемый в печати и вэб-дизайне. Lorem Ipsum является стандартной "рыбой" для текстов на латинице с начала XVI века. В то время некий безымянный печатник создал большую коллекцию размеров и форм шрифтов, используя Lorem Ipsum для распечатки образцов. Lorem Ipsum не только успешно пережил без заметных изменений пять веков, но и перешагнул в электронный дизайн. Его популяризации в новое время послужили публикация листов Letraset с образцами Lorem Ipsum в 60-х годах и, в более недавнее время, программы электронной вёрстки типа Aldus PageMaker, в шаблонах которых используется Lorem Ipsum.', // a property!
                        start: '2022-06-27', // a property!
                        start_date: "2022-06-27",
                        full_text: "Участие обучающихся Колледжа ГУМРФ в Главном военно-морском параде. \r\n",
                        place: "Санкт-Петербург, Нева",
                        text: "Участие обучающихся ",
                    },
                    { // this object will be "parsed" into an Event Object
                        title: 'The Title1', // a property!
                        start: '2022-06-27', // a property!
                        // end: '2018-09-02' // a property! ** see important note below about 'end' **
                    },
                    {
                        end_date: "2022-06-27",
                        start: "2022-06-27",
                        full_text: "Участие обучающихся Колледжа ГУМРФ в Главном военно-морском параде. \r\n",
                        place: "Санкт-Петербург, Нева",
                        text: "Участие обучающихся ",
                    }
                ],
                eventClick: function (info) {
                    console.log(info)
                    let modal = $('.modal')
                    $(".date-modal").html("<strong>Дата:</strong> " + info.event._def.extendedProps.start_date);
                    $(".place").html("<strong>Место:</strong> " + info.event._def.extendedProps.place);
                    $(".full_text").html(info.event._def.extendedProps.full_text);
                    modal.modal("show");
                },


            });
            calendar.render();
        });

    </script>

</head>

<body>
    <div id='calendar'></div>
    <div class="modal fade" id="schedule-edit">
        <div class="modal-dialog">
            <div class="modal-content">
                <!-- Modal body -->
                <div class="modal-body">
                    <p class="date-modal">Дата: </p>
                    <p class="place"></p>
                </div>
                <!-- Modal footer -->
                <div class="modal-footer">
                    <p class="full_text"></p>
                </div>
            </div>
        </div>
    </div>
</body>

</html>